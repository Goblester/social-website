{"version":3,"sources":["components/Navigation/Navigation.module.css","API/api.ts","components/Users/Users.module.css","utils/validation/validators.tsx","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","components/Navigation/Friends/Friend/Friend.module.css","components/common/FormsControls/FormControls.module.css","components/Navigation/Friends/Friends.module.css","hoc/FormControl/FormControl.tsx","components/common/FormsControls/FormsControls.tsx","redux/profile-reducer.ts","redux/dialogs-reducer.ts","assets/images/userPhoto.png","components/common/Preloader/Preloader.module.css","components/Navigation/Friends/Friend/Friend.tsx","components/Navigation/Friends/Friends.tsx","redux/navigation-reducer.ts","utils/object-helpers.ts","redux/users-reducer.ts","redux/auth-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","StoreContext.tsx","components/Navigation/Friends/FriendsContainer.tsx","components/Navigation/Navigation.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Users/User/User.tsx","components/common/Paginator/Paginator.tsx","components/Users/Users.tsx","redux/selectors/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/LoginForm.tsx","components/Login/Login.tsx","components/Login/LoginContainer.tsx","hoc/LazyLoading/LazyLoading.tsx","App.tsx","index.tsx"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","page","pageSize","a","get","response","data","followUser","id","post","unFollowUser","delete","profileAPI","getProfileInfo","userId","getStatus","setStatus","status","put","authAPI","setLogin","email","password","rememberMe","logout","getAuthInfo","combineValidators","validators","value","reduce","error","validator","undefined","isRequired","maxLength","length","Preloader","className","s","preloader","src","alt","Element","input","meta","props","hasError","invalid","touched","textareaForm","Input","TextArea","initialState","posts","message","likesCount","profile","addPost","type","setStatusAccept","requestProfile","dispatch","then","resultCode","requestStatus","profileReducer","state","action","newPost","filter","p","dialogs","v1","name","photo","messages","fromYou","sendMessage","dialogsReducer","newMessage","Friend","item","f","friend","href","circularLandscape","Friends","friendsElements","friends","map","el","t","navigationReducer","updateObjectsInArray","items","itemId","objPropName","newObjProps","users","currentPage","totalPagesCount","isFletching","followingToggleInProgress","followingIdInProgress","followAccept","unFollowAccept","setUsers","setCurrentPage","toggleIsFletching","followInProgress","toggleFollowingInProgress","followUnfollowFlow","typeOfAction","actionCreator","userReducer","followed","userData","isAuthorized","submitError","setUserData","isAuth","setSubmitError","setUser","authReducer","initialized","appReducer","rootReducer","combineReducers","profilePage","messagesPage","navigationPage","usersPage","auth","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","StoreContext","React","createContext","FriendsContainer","Consumer","getState","Navigation","navigation","to","News","Music","Settings","User","smallPhoto","usersContainer","userPhoto","disabled","some","onClick","unFollow","follow","info","location","Paginator","currentItem","itemCount","portionSize","useState","currentPortion","setCurrentPortion","totalPortionCount","Math","ceil","rightBorderItem","i","push","pagesComponent","onPageChanged","btn","Users","usersComponent","u","photos","small","usersWrapper","usersHeader","getUsersSuper","createSelector","getPagesCount","getCurrentPage","getIsFetching","getFollowingToggleInProgress","getFollowingIdInProgress","UsersContainer","requestUsers","this","Component","connect","totalUsersCount","totalCount","Header","login","logOut","header","logo","HeaderContainer","setLogOut","LoginForm","setAuthorization","onSubmit","formData","validate","FORM_ERROR","render","handleSubmit","submitting","form","component","placeholder","Login","LoginContainer","loginData","LazyLoading","fallback","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","AppContainer","promise","Promise","all","withRouter","SamuraiJsApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.04c7a7bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__3J_Oc\",\"item\":\"Navigation_item__2FcA3\"};","import axios from \"axios\";\r\nimport {LoginDataType} from '../components/Login/Login';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        'API-KEY': 'c16d0024-98a6-4b7a-a16a-0ba438364551'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers: async function (page: number, pageSize: number) {\r\n        const response = await instance.get(`users?page=${page}&count=${pageSize}`);\r\n            return response.data;\r\n    },\r\n    followUser: async function (id: number) {\r\n        const response = await instance.post(`follow/${id}`);\r\n             return response.data;\r\n    },\r\n    unFollowUser: async function (id: number) {\r\n        const response = await instance.delete(`follow/${id}`);\r\n           return response.data;\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfileInfo: async function (userId: number) {\r\n        const response = await instance.get(`profile/${userId}`);\r\n          return response.data;\r\n    },\r\n    getStatus: async function (userId: number) {\r\n        const response = await instance.get(`profile/status/${userId}`)\r\n           return response.data;\r\n    },\r\n    setStatus: async function (status: string) {\r\n        const response = await instance.put(`profile/status`, {\r\n            status: status\r\n        });\r\n        return response.data;\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    setLogin: async function (data:LoginDataType){\r\n        const response = await  instance.post('auth/login', {\r\n            email : data.email,\r\n            password: data.password,\r\n            rememberMe: data.rememberMe\r\n        });\r\n        return response.data\r\n    },\r\n\r\n    logout: async function (){\r\n        const response = await instance.delete('auth/login')\r\n        return response.data;\r\n    },\r\n\r\n    getAuthInfo: async function () {\r\n        const response = await instance.get('auth/me')\r\n        return response.data;\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapper\":\"Users_usersWrapper__2fDMx\",\"usersHeader\":\"Users_usersHeader__htjXN\",\"usersContainer\":\"Users_usersContainer__3qKbE\",\"photo\":\"Users_photo__1TByi\",\"info\":\"Users_info__2vq6a\",\"fullName\":\"Users_fullName__1Af4i\",\"status\":\"Users_status__2_IzE\",\"location\":\"Users_location__3UJel\",\"currentPage\":\"Users_currentPage__3yZto\",\"pages\":\"Users_pages__P7Xsn\"};","\r\ntype ValidatorType = (value:any) =>undefined | string;\r\n\r\nexport const combineValidators = (...validators:Array<ValidatorType>) => (value:any) =>{\r\n    return validators.reduce((error:undefined|string, validator)=> error || validator(value), undefined);\r\n}\r\n\r\n\r\nexport const isRequired  = (value:any) =>{\r\n    if(!value){\r\n        return 'required';\r\n    }\r\n    return undefined;\r\n}\r\n\r\nexport const maxLength = (length: number) => (value:any) => {\r\n    if(value.length>length){\r\n        return `max length is ${length}`;\r\n    }\r\n    return undefined;\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.196f64f4.svg\";","import React from 'react';\r\nimport s from \"./Preloader.module.css\";\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\nfunction Preloader(){\r\n    return(\r\n        <div className={s.preloader}><img src={preloader} alt=\"\"/></div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__19oBF\",\"logo\":\"Header_logo__2Ltu8\",\"auth\":\"Header_auth__3Qalg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentItem\":\"Paginator_currentItem__2_A7-\",\"item\":\"Paginator_item__LsCDL\",\"btn\":\"Paginator_btn__3bEAu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__2mSJL\",\"circularLandscape\":\"Friend_circularLandscape__fVekU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControls_error__3LnW-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__3RNMm\"};","import React from 'react';\r\nimport s from '../../components/common/FormsControls/FormControls.module.css';\r\n\r\nconst Element = (Element:any) => ({input, meta, ...props}:any)=>{\r\n    const hasError = meta.invalid && meta.touched;\r\n    return (\r\n        <div className={s.textareaForm}>\r\n            <div className={hasError && s.error}>\r\n                <Element {...input} {...props}/>\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Element;","import React from 'react';\r\nimport './FormControls.module.css';\r\nimport s from './FormControls.module.css';\r\nimport Element from '../../../hoc/FormControl/FormControl';\r\n\r\n/*export const FormControl = ({meta, children}: any) => {\r\n    const hasError = meta.invalid && meta.touched;\r\n    return (\r\n        <div className={s.textareaForm}>\r\n            <div className={hasError && s.error}>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}*/\r\n\r\nexport const Input = Element('input');\r\n\r\nexport const TextArea = Element('textarea');","import {PhotosType} from './users-reducer';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {profileAPI} from '../API/api';\r\nimport {Dispatch} from 'react';\r\n\r\nexport type PostType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number\r\n}\r\n\r\nexport type ContactsType = {\r\n    facebook: string,\r\n    website: string,\r\n    vk: string,\r\n    twitter: string,\r\n    instagram: string,\r\n    youtube: string,\r\n    github: string,\r\n    mainLink: string\r\n}\r\n\r\nexport type ProfileType = {\r\n    aboutMe: string,\r\n    contacts: ContactsType,\r\n    lookingForAJob: boolean,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    userId: number,\r\n    photos: PhotosType\r\n}\r\n\r\ntype InitialStateType = {\r\n    posts: Array<PostType>,\r\n    profile: ProfileType | null,\r\n    status: string\r\n};\r\n\r\nconst initialState: InitialStateType = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, How are you', likesCount: 13},\r\n        {id: 2, message: 'My first post', likesCount: 20},\r\n        {id: 3, message: 'My second post', likesCount: 15},\r\n        {id: 4, message: 'bam bam bam', likesCount: 9999}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state: InitialStateType = initialState, action: ProfilePageActionTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'social-network/profile/ADD-POST': {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.post,\r\n                likesCount: 32\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        }\r\n        case 'social-network/profile/SET-PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case 'social-network/profile/SET-STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case 'social-network/profile/DELETE-POST':\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts.filter(p => p.id !== action.id)]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n};\r\n\r\nexport type ProfilePageActionTypes =\r\n    | AddPostActionType\r\n    | setProfileActionType\r\n    | setStatusActionType\r\n    | deletePostActionType;\r\n\r\nconst ADD_POST = 'social-network/profile/ADD-POST';\r\nconst SET_PROFILE = 'social-network/profile/SET-PROFILE';\r\nconst SET_STATUS = 'social-network/profile/SET-STATUS';\r\nconst DELETE_POST = 'social-network/profile/DELETE-POST';\r\n\r\n\r\nexport type AddPostActionType = {\r\n    type: typeof ADD_POST,\r\n    post: string\r\n}\r\n\r\nexport type setProfileActionType = {\r\n    type: typeof SET_PROFILE,\r\n    profile: ProfileType\r\n}\r\n\r\nexport type setStatusActionType = {\r\n    type: typeof SET_STATUS,\r\n    status: string\r\n}\r\n\r\nexport type deletePostActionType = {\r\n    type: typeof DELETE_POST,\r\n    id: number\r\n}\r\n\r\nexport const addPost = (post: string): AddPostActionType => ({type: ADD_POST, post})\r\n\r\nexport const setProfile = (profile: ProfileType): setProfileActionType => ({type: SET_PROFILE, profile: profile});\r\n\r\nexport const setStatusAccept = (status: string): setStatusActionType => ({type: SET_STATUS, status});\r\n\r\nexport const deletePost = (id: number): deletePostActionType => ({type: DELETE_POST, id})\r\n\r\n\r\nexport function requestProfile(userId: number): ThunkAction<void, InitialStateType, undefined, ProfilePageActionTypes> {\r\n    return function (dispatch) {\r\n        profileAPI.getProfileInfo(userId)\r\n            .then((data) => {\r\n                dispatch(setProfile(data));\r\n            });\r\n    }\r\n}\r\n\r\nexport function setStatus(status: string): ThunkAction<void, InitialStateType, undefined, ProfilePageActionTypes> {\r\n    return async function (dispatch) {\r\n        const data = await profileAPI.setStatus(status);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(setStatusAccept(status));\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function requestStatus(userId: number): ThunkAction<void, InitialStateType, undefined, ProfilePageActionTypes> {\r\n    return async function (dispatch: Dispatch<ProfilePageActionTypes>) {\r\n        const data = await profileAPI.getStatus(userId);\r\n        dispatch(setStatusAccept(data));\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;","import {v1} from 'uuid';\r\n\r\nexport type DialogType = {\r\n    id: string,\r\n    name: string,\r\n    photo: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: string,\r\n    message: string,\r\n    fromYou: boolean,\r\n    photo: string\r\n}\r\n\r\ntype InitialStateType = {\r\n    dialogs: Array<DialogType>,\r\n    messages: Array<MessageType>\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    dialogs: [\r\n        {\r\n            id: v1(),\r\n            name: 'Dimych',\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: 'Segesa',\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: 'Jeja',\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: 'Olga',\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        },\r\n        {\r\n            id: v1(),\r\n            name: 'Seka',\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        }\r\n    ],\r\n    messages: [\r\n        {\r\n            id: v1(),\r\n            message: 'sad',\r\n            fromYou: true,\r\n            photo: 'https://uznayvse.ru/images/content/2020/1/uzn_15788272160.jpg'\r\n        },\r\n        {\r\n            id: v1(),\r\n            message: 'Hi',\r\n            fromYou: false,\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        },\r\n        {\r\n            id: v1(),\r\n            message: 'sad',\r\n            fromYou: true,\r\n            photo: 'https://uznayvse.ru/images/content/2020/1/uzn_15788272160.jpg'\r\n        },\r\n        {\r\n            id: v1(),\r\n            message: 'asddasdasdasd s das das das das das das as dasdas da',\r\n            fromYou: false,\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        },\r\n        {\r\n            id: v1(),\r\n            message: 'sad',\r\n            fromYou: true,\r\n            photo: 'https://uznayvse.ru/images/content/2020/1/uzn_15788272160.jpg'\r\n        },\r\n        {\r\n            id: v1(),\r\n            message: 'Hi',\r\n            fromYou: false,\r\n            photo: 'http://i.imgur.com/EroY8Ii.png'\r\n        },\r\n\r\n    ]\r\n};\r\n\r\nfunction dialogsReducer(state: InitialStateType = initialState, action: DialogsActionTypes): InitialStateType {\r\n    switch (action.type) {\r\n        case 'social-network/dialogs/SEND-MESSAGE': {\r\n            let newMessage = {\r\n                id: v1(),\r\n                message: action.message,\r\n                fromYou: true,\r\n                photo: 'https://uznayvse.ru/images/content/2020/1/uzn_15788272160.jpg'\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport type DialogsActionTypes = SendMessageActionType;\r\n\r\nconst SEND_MESSAGE = 'social-network/dialogs/SEND-MESSAGE';\r\n\r\n\r\nexport type SendMessageActionType = {\r\n    type: typeof SEND_MESSAGE,\r\n    message: string\r\n};\r\n\r\n\r\nexport const sendMessage = (message: string): SendMessageActionType => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        message\r\n    }\r\n}\r\n\r\n\r\nexport default dialogsReducer;","export default __webpack_public_path__ + \"static/media/userPhoto.f0289936.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2N_i_\"};","import React from \"react\";\r\nimport \"./../../Navigation.module.css\";\r\nimport s from \"./../../Navigation.module.css\";\r\nimport \"./Friend.module.css\";\r\nimport f from \"./Friend.module.css\";\r\n\r\ntype FriendPropsType = {\r\n    key: number,\r\n    name: string,\r\n    photo: string\r\n}\r\n\r\nfunction Friend(props: FriendPropsType) {\r\n    return (\r\n        <div className={`${s.item} ${f.friend}`}>\r\n            <a href=\"\">\r\n                <div className={f.circularLandscape}>\r\n                    <img src={props.photo} alt=\"\"/>\r\n                </div>\r\n                <div>\r\n                    {props.name}\r\n                </div>\r\n            </a>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Friend;","import React from \"react\";\r\nimport \"./Friends.module.css\";\r\nimport s from \"./Friends.module.css\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\ntype FriendsPropsType = {\r\n    friends: Array<{\r\n        id: number,\r\n        name: string,\r\n        photo: string\r\n    }>\r\n};\r\n\r\nfunction Friends(props:FriendsPropsType) {\r\n    let friendsElements = props.friends.map((el,t) => {\r\n        return <Friend  key={el.id} name={el.name} photo={el.photo}/>;\r\n    });\r\n    return (\r\n        <div className={s.friends}>\r\n            <span>Friends</span>\r\n            {friendsElements}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Friends;","\r\ntype FriendType = {\r\n    id: number,\r\n    name: string,\r\n    photo: string\r\n}\r\n\r\n\r\ntype NavigationPageType = {\r\n    friends: Array<FriendType>\r\n}\r\n\r\nconst initialState: NavigationPageType = {\r\n    friends: [{\r\n        id: 1,\r\n        name: \"supersus\",\r\n        photo: \"https://memepedia.ru/wp-content/uploads/2020/06/super-sus-mem-4-360x270.jpg\"\r\n    },\r\n        {\r\n            id: 2,\r\n            name: \"kukech\",\r\n            photo: \"https://i.ytimg.com/vi/YycYQd0Vztw/hqdefault.jpg\"\r\n        },\r\n        {\r\n            id: 3,\r\n            name: \"tatataa\",\r\n            photo: \"http://i.imgur.com/EroY8Ii.png\"\r\n        }]\r\n};\r\n\r\nconst navigationReducer = (state: NavigationPageType = initialState, action: NavigationActionTypes) => {\r\n    return state;\r\n}\r\n\r\nexport type NavigationActionTypes = {}\r\n\r\nexport default navigationReducer;\r\n\r\n","\r\nexport const updateObjectsInArray = (items: Array<any>, itemId: number, objPropName: string, newObjProps:{[key:string]:any})=>{\r\n    debugger;\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps};\r\n        }\r\n        return item;\r\n    })\r\n}","import {Dispatch} from 'react';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {usersAPI} from '../API/api';\r\nimport {updateObjectsInArray} from '../utils/object-helpers';\r\n\r\nexport type PhotosType = {\r\n    small: string,\r\n    large: string\r\n}\r\n\r\nexport type UserType = {\r\n    name: string,\r\n    id: number,\r\n    uniqueUrlName: string,\r\n    photos: PhotosType,\r\n    status: string,\r\n    followed: boolean\r\n}\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    currentPage: 1,\r\n    totalPagesCount: 0,\r\n    isFletching: false,\r\n    followingToggleInProgress: false,\r\n    followingIdInProgress: [] as Array<number>\r\n}\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\n\r\nfunction userReducer(state: InitialStateType = initialState, action: UsersActionTypes): InitialStateType {\r\n    switch (action.type) {\r\n        case 'social-network/users/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectsInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case 'social-network/users/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectsInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case 'social-network/users/SET-USERS':\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case 'social-network/users/SET-PAGES-COUNT':\r\n            return {\r\n                ...state,\r\n                totalPagesCount: action.totalPagesCount\r\n            }\r\n        case 'social-network/users/SET-CURRENT-PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case 'social-network/users/TOGGLE-IS-FLETCHING':\r\n            return {\r\n                ...state,\r\n                isFletching: action.isFletching\r\n            }\r\n        case 'social-network/users/FOLLOW-IN-PROGRESS':\r\n            return {\r\n                ...state,\r\n                followingToggleInProgress: action.followInProgress,\r\n                followingIdInProgress: action.followInProgress ? [...state.followingIdInProgress, action.id]\r\n                    : state.followingIdInProgress.filter(id => id !== action.id)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport type UsersActionTypes =\r\n    FollowActionType\r\n    | UnFollowActionType\r\n    | SetUsersActionType\r\n    | SetTotalUserCountActionType\r\n    | SetCurrentPageActionType\r\n    | ToggleIsFletchingActionType\r\n    | FollowInProgressActionType;\r\n\r\nconst FOLLOW = 'social-network/users/FOLLOW';\r\nconst UNFOLLOW = 'social-network/users/UNFOLLOW';\r\nconst SET_USERS = 'social-network/users/SET-USERS';\r\nconst SET_PAGES_COUNT = 'social-network/users/SET-PAGES-COUNT';\r\nconst SET_CURRENT_PAGE = 'social-network/users/SET-CURRENT-PAGE';\r\nconst TOGGLE_IS_FLETCHING = 'social-network/users/TOGGLE-IS-FLETCHING';\r\nconst FOLLOW_IN_PROGRESS = 'social-network/users/FOLLOW-IN-PROGRESS';\r\n\r\nexport type FollowActionType = {\r\n    type: typeof FOLLOW,\r\n    userId: number\r\n}\r\n\r\nexport type UnFollowActionType = {\r\n    type: typeof UNFOLLOW,\r\n    userId: number\r\n}\r\n\r\nexport type SetUsersActionType = {\r\n    type: typeof SET_USERS,\r\n    users: Array<UserType>\r\n}\r\n\r\nexport type SetTotalUserCountActionType = {\r\n    type: typeof SET_PAGES_COUNT,\r\n    totalPagesCount: number\r\n}\r\n\r\nexport type SetCurrentPageActionType = {\r\n    type: typeof SET_CURRENT_PAGE,\r\n    currentPage: number\r\n}\r\n\r\nexport type ToggleIsFletchingActionType = {\r\n    type: typeof TOGGLE_IS_FLETCHING,\r\n    isFletching: boolean\r\n}\r\n\r\nexport type FollowInProgressActionType = {\r\n    type: typeof FOLLOW_IN_PROGRESS,\r\n    followInProgress: boolean,\r\n    id: number\r\n}\r\n\r\nexport const followAccept = (userId: number): FollowActionType => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId: userId\r\n    }\r\n}\r\n\r\nexport function unFollowAccept(userId: number): UnFollowActionType {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId: userId\r\n    }\r\n}\r\n\r\nexport function setUsers(users: Array<UserType>): SetUsersActionType {\r\n    return {\r\n        type: SET_USERS,\r\n        users: users\r\n    }\r\n}\r\n\r\nexport function setPagesCount(totalPagesCount: number): SetTotalUserCountActionType {\r\n    return {\r\n        type: SET_PAGES_COUNT,\r\n        totalPagesCount\r\n    }\r\n}\r\n\r\nexport function setCurrentPage(currentPage: number): SetCurrentPageActionType {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage: currentPage\r\n    }\r\n}\r\n\r\nexport function toggleIsFletching(isFletching: boolean): ToggleIsFletchingActionType {\r\n    return {\r\n        type: TOGGLE_IS_FLETCHING,\r\n        isFletching: isFletching\r\n    }\r\n}\r\n\r\nexport function followInProgress(toggleFollowingInProgress: boolean, id: number): FollowInProgressActionType {\r\n    return {\r\n        type: FOLLOW_IN_PROGRESS,\r\n        followInProgress: toggleFollowingInProgress,\r\n        id: id\r\n    }\r\n}\r\n\r\ntype ThunkResult = ThunkAction<void, InitialStateType, undefined, UsersActionTypes>\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number): ThunkResult => {\r\n    return async (dispatch: Dispatch<UsersActionTypes>) => {\r\n        dispatch(toggleIsFletching(true));\r\n        const data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFletching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setCurrentPage(currentPage));\r\n        let totalUsersCount: number = data.totalCount;\r\n        dispatch(setPagesCount(Math.ceil(totalUsersCount / pageSize)));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (userId: number, typeOfAction: 'followUser' | 'unFollowUser', dispatch: Dispatch<UsersActionTypes>, actionCreator: (userId: number) => UsersActionTypes) => {\r\n    dispatch(followInProgress(true, userId));\r\n    const data = await usersAPI[typeOfAction](userId);\r\n    dispatch(followInProgress(false, userId));\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number): ThunkResult => {\r\n    return (dispatch) => {\r\n        followUnfollowFlow(userId, 'followUser', dispatch, followAccept);\r\n    }\r\n}\r\n\r\nexport const unFollow = (userId: number): ThunkResult => {\r\n    return (dispatch) => {\r\n        followUnfollowFlow(userId, 'unFollowUser', dispatch, unFollowAccept);\r\n    }\r\n}\r\n\r\n\r\nexport default userReducer;","import {ThunkAction} from 'redux-thunk';\r\nimport {authAPI} from '../API/api';\r\nimport {LoginDataType} from '../components/Login/Login';\r\nimport {Dispatch} from 'react';\r\nimport {Action} from 'redux';\r\nimport {RootState} from './redux-store';\r\n\r\ntype InitialStateType = {\r\n    userData: UserDataType | null\r\n    isAuthorized: boolean,\r\n    submitError: string | undefined\r\n}\r\n\r\n\r\nexport type UserDataType = {\r\n    id: number,\r\n    login: string,\r\n    email: string\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    userData: null,\r\n    isAuthorized: false,\r\n    submitError: undefined\r\n};\r\n\r\nfunction authReducer(state: InitialStateType = initialState, action: AuthActionTypes): InitialStateType {\r\n    switch (action.type) {\r\n        case 'social-network/auth/SET-USER-DATA':\r\n            return {\r\n                ...state,\r\n                userData: action.userData,\r\n                isAuthorized: action.isAuth,\r\n                submitError: undefined\r\n            };\r\n        case 'social-network/auth/SET-SUBMIT-ERROR':\r\n            return {\r\n                ...state,\r\n                submitError: action.submitError\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport type AuthActionTypes = SetUserDataActionType | SetSubmitErrorActionType;\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET-USER-DATA';\r\nconst SET_SUBMIT_ERROR = 'social-network/auth/SET-SUBMIT-ERROR'\r\n\r\nexport type SetUserDataActionType = {\r\n    type: typeof SET_USER_DATA,\r\n    userData: UserDataType | null,\r\n    isAuth: boolean\r\n};\r\n\r\nexport type SetSubmitErrorActionType = {\r\n    type: typeof SET_SUBMIT_ERROR,\r\n    submitError: string | undefined\r\n}\r\n\r\nexport const setUserData = (data: UserDataType | null, isAuth: boolean): SetUserDataActionType => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        userData: data,\r\n        isAuth: isAuth\r\n    };\r\n}\r\n\r\nexport const setSubmitError = (submitError: string | undefined): SetSubmitErrorActionType => {\r\n    return {\r\n        type: SET_SUBMIT_ERROR,\r\n        submitError\r\n    }\r\n}\r\n\r\n\r\nexport type ThunkResult<ReturnType = void> = ThunkAction<ReturnType, RootState, unknown, Action<string>>;\r\n\r\n\r\nexport function setUser(): ThunkResult {\r\n    return async function (dispatch) {\r\n        const data = await authAPI.getAuthInfo();\r\n        const isAuth = data.resultCode === 0;\r\n        dispatch(setUserData(data.data, isAuth));\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function setAuthorization(loginData: LoginDataType): ThunkResult {\r\n    return async function (dispatch: Dispatch<AuthActionTypes>) {\r\n        const data = await authAPI.setLogin(loginData);\r\n        if (data.resultCode === 0)\r\n            setUser();\r\n        else\r\n            dispatch(setSubmitError(data.messages[0]));\r\n\r\n    }\r\n}\r\n\r\nexport function setLogOut(): ThunkResult {\r\n    return async function (dispatch: Dispatch<AuthActionTypes>) {\r\n        const data = await authAPI.logout()\r\n        if (data.resultCode === 0)\r\n            dispatch(setUserData(null, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import {ThunkAction} from 'redux-thunk';\r\nimport {Action} from 'redux';\r\nimport {RootState} from './redux-store';\r\nimport {setUser} from './auth-reducer';\r\n\r\ntype InitialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    initialized: false\r\n}\r\n\r\nfunction appReducer(state: InitialStateType = initialState, action: AppActionTypes): InitialStateType {\r\n    switch (action.type) {\r\n        case 'social-network/app/SET-INITIALIZED':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport type AppActionTypes = SetInitializedActionType;\r\n\r\nconst SET_INITIALIZED = 'social-network/app/SET-INITIALIZED';\r\n\r\n\r\nexport type SetInitializedActionType = {\r\n    type: typeof SET_INITIALIZED\r\n};\r\n\r\n\r\nexport const initializeSuccess = (): SetInitializedActionType => {\r\n    return {\r\n        type: SET_INITIALIZED\r\n    };\r\n}\r\n\r\ntype ThunkResult<ReturnType = void> = ThunkAction<ReturnType, RootState, unknown, Action<string>>;\r\n\r\n\r\nexport function initializeApp(): ThunkResult {\r\n    return async function (dispatch) {\r\n        const promise = dispatch(setUser());\r\n        await Promise.all([promise])\r\n        dispatch(initializeSuccess());\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer;","import {createStore, combineReducers} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport navigationReducer from \"./navigation-reducer\";\r\nimport userReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunk from 'redux-thunk';\r\nimport { applyMiddleware } from \"redux\";\r\nimport appReducer from './app-reducer';\r\nimport {compose} from '@reduxjs/toolkit';\r\n\r\n\r\nlet rootReducer  = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    navigationPage: navigationReducer,\r\n    usersPage: userReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\n\r\nexport default store;\r\n\r\n// @ts-ignore\r\nwindow.store = store","import React from \"react\";\r\nimport store from \"./redux/redux-store\";\r\n\r\n\r\n\r\nconst StoreContext  = React.createContext(store);\r\n\r\nconst Provider = (props: any) => {\r\n    return(\r\n        <StoreContext.Provider value ={props.store}>\r\n            {props.children}\r\n        </StoreContext.Provider>\r\n    )\r\n}\r\n\r\n\r\nexport default StoreContext","import React from \"react\";\r\nimport Friends from \"./Friends\";\r\nimport StoreContext from \"../../../StoreContext\";\r\n\r\n\r\nfunction FriendsContainer() {\r\n\r\n    return (<StoreContext.Consumer>\r\n            {\r\n                store => {\r\n                    let state = store.getState().navigationPage;\r\n                    return (\r\n                        <Friends friends={state.friends}/>\r\n                    )\r\n                }\r\n            }\r\n        </StoreContext.Consumer>\r\n\r\n    );\r\n}\r\n\r\nexport default FriendsContainer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Navigation.module.css';\r\nimport s from \"./Navigation.module.css\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\n\r\n\r\nfunction Navigation() {\r\n    return (\r\n        <nav className={s.navigation}>\r\n            <ul>\r\n                <li className={`${s.item}`}><NavLink to=\"/profile\" >Profile</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/dialogs\" >Dialogs</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/news\" >News</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/music\" >Music</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/users\" >Users</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/settings\" >Settings</NavLink></li>\r\n            </ul>\r\n        <FriendsContainer/>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from \"react\";\r\nimport \"./News.module.css\";\r\nimport s from \"./News.module.css\";\r\n\r\nfunction News() {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport \"./Music.module.css\";\r\nimport s from \"./Music.module.css\";\r\n\r\nfunction Music() {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport \"./Settings.module.css\";\r\nimport s from \"./Settings.module.css\";\r\n\r\nexport function Settings() {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import s from '../Users.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport userPhoto from '../../../assets/images/userPhoto.png';\r\nimport React from 'react';\r\n\r\ntype UserPropsType = {\r\n    userId: number,\r\n    smallPhoto: string,\r\n    followed: boolean,\r\n    name: string,\r\n    status: string,\r\n    followingIdInProgress: Array<number>,\r\n    unFollow: (userId: number) => void,\r\n    follow: (userId: number) => void,\r\n}\r\n\r\n\r\nexport function User({userId, followingIdInProgress,followed, name, smallPhoto, status, ...props}:UserPropsType){\r\n    return(\r\n        <div className={s.usersContainer}>\r\n            <div className={s.photo}>\r\n                <div>\r\n                    <NavLink to={`/profile/${userId}`}>\r\n                        <img src={smallPhoto !== null ? smallPhoto : userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {followed ? <button disabled={followingIdInProgress.some(id => id === userId)} onClick={() => {\r\n                            props.unFollow(userId);\r\n                        }\r\n                        }>Unfollow</button> :\r\n                        <button disabled={followingIdInProgress.some(id => id === userId)} onClick={() => {\r\n                            props.follow(userId);\r\n                        }\r\n                        }>Follow</button>}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.info}>\r\n                <div className={s.name}>{name}</div>\r\n                <div\r\n                    className={s.status}>{status !== null ? status : `text example for ${name}`}</div>\r\n                <div className={s.location}>\r\n                    <div>{userId}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import s from './Paginator.module.css';\r\nimport React, {useState} from 'react';\r\n\r\n\r\ntype PaginatorPropsType = {\r\n    currentItem: number,\r\n    itemCount: number,\r\n    portionSize: number,\r\n    onPageChanged: (page: number) => void\r\n}\r\n\r\nexport const Paginator = ({currentItem, itemCount, portionSize, ...props}: PaginatorPropsType) => {\r\n\r\n    const [currentPortion, setCurrentPortion]= useState<number>(1);\r\n\r\n    const totalPortionCount = Math.ceil(itemCount / portionSize);\r\n    const leftBorderItem = (currentPortion - 1) * portionSize + 1;\r\n    const rightBorderItem = currentPortion * portionSize;\r\n\r\n    let items = [];\r\n    for (let i = leftBorderItem; i <= rightBorderItem; i++) {\r\n        items.push(i);\r\n    }\r\n\r\n    const onPrevButtonClick = ()=>{\r\n        setCurrentPortion(currentPortion-1)\r\n    }\r\n    const onNextButtonClick = ()=>{\r\n        setCurrentPortion(currentPortion+1);\r\n    }\r\n\r\n    const pagesComponent = items.map(p => {\r\n        const onClick = () => {\r\n            props.onPageChanged(p);\r\n        }\r\n        return (\r\n            <span key={p} className={`${p === currentItem ? s.currentItem : ''} ${s.item}`} onClick={onClick}>{p}</span>\r\n\r\n        )\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            {currentPortion!==1&&<button className={s.btn} onClick={onPrevButtonClick}>Prev</button>}\r\n            {pagesComponent}\r\n            {currentPortion!==totalPortionCount&&<button className={s.btn} onClick={onNextButtonClick}>Next</button>}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport './Users.module.css';\r\nimport s from './Users.module.css'\r\nimport {UserType} from '../../redux/users-reducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport {User} from './User/User';\r\nimport {Paginator} from '../common/Paginator/Paginator';\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UserType>,\r\n    totalPagesCount: number,\r\n    currentPage: number,\r\n    isFletching: boolean,\r\n    followingToggleInProgress: boolean,\r\n    followingIdInProgress: Array<number>,\r\n    follow: (userId: number) => void,\r\n    unFollow: (userId: number) => void,\r\n    onPageChanged: (pageNumber: number) => void,\r\n    followInProgress: (followingToggleInProgress: boolean, followingIdInProgress: number) => void\r\n}\r\n\r\nfunction Users({\r\n                   totalPagesCount,\r\n                   currentPage,\r\n                   isFletching,\r\n                   followingToggleInProgress,\r\n                   followingIdInProgress,\r\n                   users,\r\n                   ...props\r\n               }: UsersPropsType) {\r\n\r\n\r\n    let usersComponent = users.map(u => {\r\n        return (\r\n            <User userId={u.id}\r\n                  smallPhoto={u.photos.small}\r\n                  followed={u.followed}\r\n                  name={u.name}\r\n                  status={u.status}\r\n                  followingIdInProgress={followingIdInProgress}\r\n                  unFollow={props.unFollow}\r\n                  follow={props.follow}/>\r\n        )\r\n    });\r\n\r\n    return (\r\n        <div className={s.usersWrapper}>\r\n            <h2 className={s.usersHeader}>Users</h2>\r\n            {isFletching ? <Preloader/> : ''}\r\n            <Paginator portionSize={10} currentItem={currentPage} itemCount={totalPagesCount} onPageChanged={props.onPageChanged}/>\r\n            {usersComponent}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {RootState} from '../redux-store';\r\nimport {createSelector} from '@reduxjs/toolkit';\r\nimport {UserType} from '../users-reducer';\r\n\r\n\r\nexport const getUsers = (state:RootState)=>{\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersMega = (users:Array<UserType>)=>{\r\n    return users.filter(u=>true)\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers, (users)=>{\r\n    return users.filter(u=>true)\r\n})\r\n\r\nexport const getPagesCount = (state:RootState)=>{\r\n    return state.usersPage.totalPagesCount\r\n}\r\n\r\nexport const getCurrentPage = (state:RootState)=>{\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state:RootState)=>{\r\n    return state.usersPage.isFletching\r\n}\r\n\r\nexport const getFollowingToggleInProgress = (state:RootState)=>{\r\n    return state.usersPage.followingToggleInProgress\r\n}\r\n\r\nexport const getFollowingIdInProgress = (state:RootState)=>{\r\n    return state.usersPage.followingIdInProgress\r\n}\r\n\r\n","import React from 'react';\r\nimport {\r\n    follow,\r\n    followInProgress,\r\n    requestUsers,\r\n    setCurrentPage,\r\n    setUsers,\r\n    toggleIsFletching,\r\n    unFollow,\r\n    UserType\r\n} from '../../redux/users-reducer';\r\nimport {RootState} from '../../redux/redux-store';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingIdInProgress,\r\n    getFollowingToggleInProgress,\r\n    getIsFetching,\r\n    getPagesCount,\r\n    getUsersSuper\r\n} from '../../redux/selectors/users-selectors';\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType, never> {\r\n    constructor(props: UsersContainerPropsType) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, 10);\r\n    }\r\n\r\n    onPageChanged = (page: number) => {\r\n        this.props.setCurrentPage(page);\r\n        this.props.requestUsers(page, 10);\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Users users={this.props.users}\r\n                   currentPage={this.props.currentPage}\r\n                   totalPagesCount={this.props.totalPagesCount}\r\n                   isFletching={this.props.isFletching}\r\n                   followingToggleInProgress={this.props.followingToggleInProgress}\r\n                   followingIdInProgress={this.props.followingIdInProgress}\r\n                   onPageChanged={this.onPageChanged}\r\n                   unFollow={this.props.unFollow}\r\n                   follow={this.props.follow}\r\n                   followInProgress={this.props.followInProgress}/>\r\n        )\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    users: Array<UserType>,\r\n    totalPagesCount: number,\r\n    currentPage: number,\r\n    isFletching: boolean,\r\n    followingToggleInProgress: boolean,\r\n    followingIdInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    follow: (userId: number) => void,\r\n    unFollow: (userId: number) => void,\r\n    setUsers: (users: Array<UserType>) => void,\r\n    setCurrentPage: (currentPage: number) => void,\r\n    toggleIsFletching: (isFletching: boolean) => void,\r\n    followInProgress: (followingToggleInProgress: boolean, followingIdInProgress: number) => void,\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersContainerPropsType = MapDispatchPropsType & MapStatePropsType;\r\n\r\n\r\nconst mapStateToProps = (state: RootState): MapStatePropsType => {\r\n\r\n    return {\r\n        users: getUsersSuper(state),\r\n        totalPagesCount: getPagesCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFletching: getIsFetching(state),\r\n        followingToggleInProgress: getFollowingToggleInProgress(state),\r\n        followingIdInProgress: getFollowingIdInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, RootState>\r\n(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    setUsers,\r\n    setCurrentPage,\r\n    toggleIsFletching,\r\n    followInProgress,\r\n    requestUsers\r\n})(UsersContainer);","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './Header.module.css';\r\nimport s from './Header.module.css';\r\n\r\ntype HeaderPropsType = {\r\n    login: string,\r\n    id: number,\r\n    isAuthorized: boolean,\r\n    logOut: () => void\r\n};\r\n\r\n\r\nfunction Header({login, id, isAuthorized, logOut}: HeaderPropsType) {\r\n    return (\r\n        <header className={s.header}>\r\n            <div className={s.logo}>\r\n                <img\r\n                    src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1200px-Facebook_Logo_%282019%29.png\"\r\n                    alt=\"\"/>\r\n\r\n            </div>\r\n            <div className={s.auth}>\r\n                {isAuthorized ?\r\n                    <div>\r\n                        <NavLink to={`profile/` + id}>{login}</NavLink>\r\n                        <div>\r\n                            <button onClick={logOut}>log out</button>\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    <NavLink to={'/login'}>login</NavLink>}\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {RootState} from \"../../redux/redux-store\";\r\nimport {setLogOut, setUser, UserDataType} from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component<OwnHeaderPropsType, never> {\r\n\r\n    componentDidMount() {\r\n        this.props.setUser();\r\n    }\r\n\r\n    render() {\r\n\r\n        return <Header isAuthorized={this.props.isAuthorized}\r\n                       login={this.props.userData?.login as string}\r\n                       id={this.props.userData?.id as number}\r\n                       logOut={this.props.setLogOut}\r\n        />\r\n    }\r\n\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    userData: UserDataType | null,\r\n    isAuthorized: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    setUser: () => void,\r\n    setLogOut: ()=>void\r\n}\r\n\r\ntype OwnHeaderPropsType = MapStatePropsType & MapDispatchPropsType;\r\n\r\nconst mapStateToProps = (state: RootState): MapStatePropsType => ({\r\n    userData: state.auth.userData,\r\n    isAuthorized: state.auth.isAuthorized\r\n});\r\n\r\n\r\nexport default connect<MapStatePropsType,MapDispatchPropsType, {}, RootState>\r\n(mapStateToProps, {setUser, setLogOut})(HeaderContainer);","import React, {useState} from 'react';\r\nimport {Field, Form} from 'react-final-form';\r\nimport {LoginDataType} from './Login';\r\nimport {Input} from '../common/FormsControls/FormsControls';\r\nimport {combineValidators, isRequired, maxLength} from '../../utils/validation/validators';\r\nimport {FORM_ERROR} from 'final-form';\r\n\r\ntype LoginFormPropsType = {\r\n    setAuthorization: (loginData: LoginDataType) => void,\r\n    submitError: string | undefined,\r\n    setSubmitError: (submitError: string | undefined)=>void\r\n}\r\n\r\nconst LoginForm = ({setAuthorization, ...props}: LoginFormPropsType) => {\r\n    const onSubmit = (formData: LoginDataType) => {\r\n        setAuthorization({\r\n            email: formData.email,\r\n            password: formData.password,\r\n            rememberMe: formData.rememberMe\r\n        });\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Form onSubmit={onSubmit}\r\n              validate={(value) => {\r\n                  return {[FORM_ERROR]: props.submitError}\r\n              }}\r\n              render={({handleSubmit, error, form, submitting}) => {\r\n\r\n                  return (\r\n                      <form onSubmit={handleSubmit}>\r\n                          <div>\r\n                              <Field name={'email'} component={Input} type={'text'} placeholder={'email'}\r\n                                     validate={combineValidators(isRequired, maxLength(20))}/>\r\n                          </div>\r\n                          <div>\r\n                              <Field name={'password'} component={Input} type={'password'} placeholder={'password'}\r\n                                     validate={combineValidators(isRequired, maxLength(20))}/>\r\n                          </div>\r\n                          <div>\r\n                              <Field name={'rememberMe'} component={'input'} type={'checkbox'}/> remember me\r\n                          </div>\r\n                          <div className=\"error\">{error}</div>\r\n                          <button type={'submit'} onClick={() => {\r\n                            props.setSubmitError(undefined);\r\n                          }} disabled={submitting}>login\r\n                          </button>\r\n                      </form>\r\n                  )\r\n              }\r\n              }/>\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport LoginForm from './LoginForm';\r\nimport {LoginPropsType} from './LoginContainer';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport type LoginDataType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: true\r\n}\r\n\r\nfunction Login({isAuth, setAuthorization, submitError, setSubmitError}: LoginPropsType) {\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginForm setAuthorization={setAuthorization}\r\n                       submitError={submitError}\r\n                       setSubmitError={setSubmitError}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Login;","import {RootState} from '../../redux/redux-store';\r\nimport {setAuthorization, setSubmitError} from '../../redux/auth-reducer';\r\nimport {connect} from 'react-redux';\r\nimport Login, {LoginDataType} from './Login';\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean,\r\n    submitError: string | undefined\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    setAuthorization: (loginData: LoginDataType) => void,\r\n    setSubmitError: (submitError: string| undefined)=>void\r\n}\r\n\r\nexport type LoginPropsType = MapStatePropsType & MapDispatchPropsType;\r\n\r\nconst mapStateToProps = (state: RootState): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuthorized,\r\n    submitError: state.auth.submitError\r\n})\r\n\r\nconst LoginContainer = connect<MapStatePropsType, MapDispatchPropsType, {}, RootState>\r\n(mapStateToProps, {setAuthorization, setSubmitError})(Login);\r\n\r\nexport default LoginContainer;","import React, { Suspense } from 'react';\r\nimport Preloader from '../../components/common/Preloader/Preloader';\r\n\r\nexport const LazyLoading = (Component: React.ComponentType)=>{\r\n    return(\r\n        <Suspense fallback={<Preloader />}>\r\n            <Component />\r\n        </Suspense>\r\n    )\r\n}","import React from 'react';\nimport './App.css';\nimport Navigation from './components/Navigation/Navigation';\nimport {BrowserRouter, Route, RouteComponentProps, withRouter} from 'react-router-dom';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginContainer from './components/Login/LoginContainer';\nimport {compose} from '@reduxjs/toolkit';\nimport {connect, Provider} from 'react-redux';\nimport store, {RootState} from './redux/redux-store';\nimport {initializeApp} from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport {LazyLoading} from './hoc/LazyLoading/LazyLoading';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component<AppPropsType, never> {\n    constructor(props: AppPropsType) {\n        super(props);\n    }\n\n    componentDidMount() {\n\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navigation/>\n                <div className=\"app-wrapper-content\">\n                    <Route path={'/profile/:userId?'}\n                               render={() => LazyLoading(ProfileContainer)}/>\n                    <Route path={'/dialogs'}\n                           render={() => LazyLoading(DialogsContainer)}/>\n                    <Route path={'/news'} render={() => <News/>}/>\n                    <Route path={'/music'} render={() => <Music/>}/>\n                    <Route path={'/users'}\n                           render={() => <UsersContainer/>}/>\n                    <Route path={'/settings'} render={() => <Settings/>}/>\n                    <Route path={'/login'} render={() => <LoginContainer/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\ntype MapStatePropsType = {\n    initialized: boolean\n}\ntype MapDispatchPropsType = {\n    initializeApp: () => void\n}\n\n\ntype OwnAppPropsType = MapDispatchPropsType & MapStatePropsType;\n\ntype AppPropsType = RouteComponentProps<void> & OwnAppPropsType\n\nconst mapStateToProps = (state: RootState) => ({\n    initialized: state.app.initialized\n})\n\n\nconst AppContainer = compose<React.ComponentType>(\n    connect<MapStatePropsType, MapDispatchPropsType, {}, RootState>(mapStateToProps, {initializeApp}),\n    withRouter\n)(App)\n\n\nexport const SamuraiJsApp = () => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {SamuraiJsApp} from './App';\n\n\nReactDOM.render(<SamuraiJsApp/>, document.getElementById('root'));\n"],"sourceRoot":""}